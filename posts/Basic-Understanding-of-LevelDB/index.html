<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Basic Understanding of LevelDB" /><meta name="author" content="hetong07" /><meta property="og:locale" content="en_US" /><meta name="description" content="LevelDB is the open-sourced Google BigTable implementaion, and its coding style is nice for amateurs to follow. This post presents my understands of the LevelDB and some details of its implementaion. With those components below, one can simulate how LevelDB works in situations, such as, open, read, write, snapshot, failure recovery." /><meta property="og:description" content="LevelDB is the open-sourced Google BigTable implementaion, and its coding style is nice for amateurs to follow. This post presents my understands of the LevelDB and some details of its implementaion. With those components below, one can simulate how LevelDB works in situations, such as, open, read, write, snapshot, failure recovery." /><link rel="canonical" href="https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/" /><meta property="og:url" content="https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/" /><meta property="og:site_name" content="hetong07" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-06-07T14:22:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Basic Understanding of LevelDB" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@hetong07" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"LevelDB is the open-sourced Google BigTable implementaion, and its coding style is nice for amateurs to follow. This post presents my understands of the LevelDB and some details of its implementaion. With those components below, one can simulate how LevelDB works in situations, such as, open, read, write, snapshot, failure recovery.","url":"https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/","@type":"BlogPosting","headline":"Basic Understanding of LevelDB","dateModified":"2020-06-07T14:22:00+08:00","datePublished":"2020-06-07T14:22:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/"},"author":{"@type":"Person","name":"hetong07"},"@context":"https://schema.org"}</script><title>Basic Understanding of LevelDB | hetong07</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">hetong07</a></div><div class="site-subtitle font-italic">Personal reading posts</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hetong07" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hetong07','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Basic Understanding of LevelDB</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Basic Understanding of LevelDB</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 7, 2020, 2:22 PM +0800" > Jun 7, 2020 <i class="unloaded">2020-06-07T14:22:00+08:00</i> </span> by <span class="author"> hetong07 </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1188 words">6 min</span></div></div><div class="post-content"><p>LevelDB is the open-sourced Google BigTable implementaion, and its coding style is nice for amateurs to follow. This post presents my understands of the LevelDB and some details of its implementaion. With those components below, one can simulate how LevelDB works in situations, such as, open, read, write, snapshot, failure recovery.</p><h2 id="table-file-structurelevels">Table file structure (levels)</h2><p>The underlying table data structure maintained by the LevelDB (<strong>Google Big Table</strong>) is:  </p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>------------------------------------------------   

Memtable (skiplist)   

Immutable memtable (memtable with an immutable marker)   

Level-0 files (persistence of immutable)   

Level-n files   

------------------------------------------------   
</pre></table></code></div></div><p>K-V pairs within each file/table are in order (internal key order), but only files/tables below level-1 (incl.) are disjoint.  </p><h2 id="log-files">Log files</h2><p>There are two kinds of log files: the MANIFEST file, which persists version information, and the other one is the write/delete log (*.log), which stores the K-V pairs before execution.</p><p>There is only one MANIFEST file for each database open.</p><p>It is noted that the write/delete log has file size limitations, so there may exist many log files during LevelDB runs. To distinguish those write/delete log files, the LevelDB exploits a <strong>log_number</strong>. It is the file number used when creating the log files, and are recorded in a <strong>VersionSet</strong> instance. </p><p>The new log file is created when:  </p><ul><li>Opening a database (<code class="language-plaintext highlighter-rouge">DBImpl::Open()</code>)  <li>Switching to a new memtable (<code class="language-plaintext highlighter-rouge">DBImpl::MakeRoomForWrite()</code>).  </ul><h2 id="version">Version </h2><p>The view of the table file structure is called version, and it is recorded in an instance of <strong>Version</strong> class (defined in <em>version_edit.h</em>). Each database contains a bunch of such versions, each time it compacts database. Those versions are managed by a <strong>VersionSet</strong> class, backed by a circular linked list. The <strong>Version</strong> class and its friends <strong>VersionEdit</strong> class and <strong>VersionSet</strong> class share some common variables: </p><ul><li>Log number, record the log file number;<li>Prev log number, record the previous log file number;<li>Next file number, record the file number used so far;<li>Last sequence number. <li>Manifest_file_number.  <li>Compact pointer, store the last compacted key for each level.  </ul><p>Versions act as checkpoints in LevelDB. Each time the file structure is about to change, i.e., after compaction, LevelDB creates a new version and put it to the head of the version set (<code class="language-plaintext highlighter-rouge">VersionSet::LogAndApply()</code>). Those changing moments are:  </p><ul><li>Write immutable memtable to L0 files (<code class="language-plaintext highlighter-rouge">DBImpl::CompactMemTable()</code>); <li>Background compaction (<code class="language-plaintext highlighter-rouge">DBImpl::BackgroundCompaction()</code>);  <li>Install compaction result (<code class="language-plaintext highlighter-rouge">DBImpl::InstallCompactionResults()</code>);<li>Database deletion (<code class="language-plaintext highlighter-rouge">DB::Open()</code>). </ul><p>Not clear why they separate the <strong>Version</strong> and the <strong>VersionEdit</strong> class. The author stated that this would reduce the copy in the comments (<em>version_set.cc</em>). </p><p>During the LevelDB recovery (usually when opening a database), it first searches the MANIFEST log file, then applies the recovered records one by one (<code class="language-plaintext highlighter-rouge">VersionSet::Recover()</code>) into a temporary <strong>VersionEdit</strong> instance. After recovering all previous version info, a new <strong>Version</strong> instance is created and insert the corresponding version set. With the version info, LevelDB searches all files in the database directory to reconstruct file structure. One of the most important things is to recover log files (not the MANIFEST) and reconstruct the memtable. </p><p>It worth noting that there is only one MANIFEST file for each data <code class="language-plaintext highlighter-rouge">Open()</code> call.  </p><h2 id="read--write-interface">Read &amp; Write Interface</h2><p><code class="language-plaintext highlighter-rouge">Get()</code> is multi-thread compatible. It first acquires the lock to read some shared information and then execute the read without the lock. Since the skiplist can support multi-thread, this could improve the read bandwidth.</p><p>Each writes to LevelDB is wrapped into a <strong>WriteBatch</strong> instance and inserted into a writer list (<code class="language-plaintext highlighter-rouge">DBImpl::Write()</code>) with a lock. Those <strong>WriteBatch</strong> instances are persisted to the log file (<em>db_impl.cc:1240</em>) before executed. To coordinate multi-thread writes, the LevelDB uses a conditional variable to linearize writes. Thus, the write bandwidth cannot benefit from multi-thread.</p><h2 id="sequence-number">Sequence number  </h2><p>Each K-V pair added/deleted is assigned with a sequence number for linearization purposes. Consider there are modifications to the same key, levelDB execute the K-V pairs in the sequence number order.</p><p>When searching, the <code class="language-plaintext highlighter-rouge">Get()</code> automatically uses the snapshot sequence number or use the last sequence number, instead, if not specified.  </p><p>The levelDB records the sequence number executed so far in the <strong>Version</strong>/<strong>VersionSet</strong> instance.</p><h2 id="other-numberings">Other numberings</h2><p>Except for the sequence number, there is a file number (variable <em>new_file_number</em>). It is monolithically increasing, and each time of creating a new file, the levelDB calls the <code class="language-plaintext highlighter-rouge">NewFileNumber()</code> to get a file number.  </p><h2 id="snapshot">Snapshot </h2><p>The snapshot subsystem stores the sequence number when a snapshot is made by <code class="language-plaintext highlighter-rouge">leveldb_create_snapshot()</code> (in file <em>c.cc</em>). Snapshots are also stored in a link list.</p><p>I haven’t pay much attention to the snapshot.  </p><h2 id="internal-key">Internal Key</h2><p>The internal key for searching (<code class="language-plaintext highlighter-rouge">LookupKey::LookupKey()</code>) is:  </p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{user_key size + 8} {user_key} {sequence number} {value type} 
</pre></table></code></div></div><p>The value type identifies this is a modification key or a deletion key. This information is used during compaction (<code class="language-plaintext highlighter-rouge">DBImpl::DoCompactionWork()</code>).  </p><h2 id="compaction">Compaction  </h2><p>The LevelDB uses a dedicated thread (in file <em>env.h</em>) as background work for compaction. To initiate a compaction, front threads put compaction jobs to the compaction job queue via the <code class="language-plaintext highlighter-rouge">DBImpl::MaybeScheduleCompaction()</code> call.</p><p>Major compaction work is done in <code class="language-plaintext highlighter-rouge">DBImpl::BackgroundCompaction()</code>.   </p><p>The compaction information is stored in the <strong>Compaction</strong>/<strong>ManualCompaction</strong> class:  </p><p>Files in two adjacent two levels, filled by <code class="language-plaintext highlighter-rouge">Compaction* PickCompaction()</code>.  </p><p><strong>VersionEdit</strong> instance that holds a set of file for addition and deletion  </p><p>Right at the beginning of the compaction, the levelDB creates a table file via the <code class="language-plaintext highlighter-rouge">DBImpl::OpenCompactionOutputFile()</code>. After such table file size reaches the limit, it uses the <code class="language-plaintext highlighter-rouge">DBImpl::FinishCompactionOutputFile()</code> to close the file and records that table file name in variable <em>pending_outpus_</em>. Then it starts another file creation cycle and continues the compaction. </p><p>When compaction happens, it searches every key in every table in the <strong>Compaction</strong> instance and puts it into output file when 1) if the key is the first time seen, and 2) if the key has a sequence number more significant than specified. Otherwise, it drops the K-V pair. In this way, the compacted file stores a smaller number of K-V pairs.   </p><p>After compaction, the <code class="language-plaintext highlighter-rouge">DBImpl::CleanupCompaction()</code> and <code class="language-plaintext highlighter-rouge">DBImpl::RemoveObsoleteFiles()</code> are called to do some clean-up work and delete old input files.</p><p>If it is a trivial compaction, the LevelDB skips the above process and only modifies the deletion and addition file set.  </p><p>The last step of the compaction is to modify the <strong>VersionEdit</strong> instance this compaction holds via the <code class="language-plaintext highlighter-rouge">DBImpl::InstallCompactionResults()</code> interface: </p><ul><li>Mark input files as deleted  <li>Mark the generated files as the file to add  </ul><p>It then calls the <code class="language-plaintext highlighter-rouge">VersionSet::LogAndApply()</code> to log and apply the changes as we discussed above. </p><p>The compaction results of each level are recorded in different <strong>CompactionState</strong> instances.  </p><h2 id="reference-system">Reference system  </h2><p>Many class has a pair of <code class="language-plaintext highlighter-rouge">Ref()</code>/<code class="language-plaintext highlighter-rouge">Unref()</code>, to manage its memory, Not clear why, but as far as I know, the C++11 has a builtin support for reference count, and the <strong>Caffe</strong> adopts the build-in solution.  </p><h2 id="io-calculation">IO calculation</h2><p>(TODO), and relationship with compaction.</p><h2 id="other-materials">Other Materials</h2><p>There are many materials discusse the internal of the LevelDB in detail. However, I have not read them, thus, cannot guarantee their understandings are the same as mine. But it is worth listing some of them here if you want to gain advanced understanding of the LevelDB, for example, skiplist, memory barrier, etc.</p><ol><li><a href="https://yuerblog.cc/wp-content/uploads/leveldb%E5%AE%9E%E7%8E%B0%E8%A7%A3%E6%9E%90.pdf">leveldb实现解析</a><li>http://cighao.com/2016/08/13/leveldb-source-analysis-01-introduction/<li>http://woofy.cn/2017/02/13/leveldb1/</ol><h2 id="reference">Reference</h2><ol><li>Chang, Fay, et al. “Bigtable: A distributed storage system for structured data.” ACM Transactions on Computer Systems (TOCS) 26.2 (2008): 1-26.<li>https://github.com/google/leveldb</ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/technical/'>Technical</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/distributed-system/" class="post-tag no-text-decoration" >distributed system</a> <a href="/tags/leveldb/" class="post-tag no-text-decoration" >leveldb</a> <a href="/tags/kv-store/" class="post-tag no-text-decoration" >KV store</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Basic Understanding of LevelDB - hetong07&url=https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Basic Understanding of LevelDB - hetong07&u=https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Basic Understanding of LevelDB - hetong07&url=https://hetong07.github.io/posts/Basic-Understanding-of-LevelDB/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/GPU-Scheduling/">GPU Scheduling for ML workload</a><li><a href="/posts/caladan/">Caladan interference mitigation</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/distributed-system/">distributed system</a> <a class="post-tag" href="/tags/paxos/">paxos</a> <a class="post-tag" href="/tags/raft/">raft</a> <a class="post-tag" href="/tags/gpu/">GPU</a> <a class="post-tag" href="/tags/interference-mitigation/">interference mitigation</a> <a class="post-tag" href="/tags/kv-store/">KV store</a> <a class="post-tag" href="/tags/leveldb/">leveldb</a> <a class="post-tag" href="/tags/ml-sys/">ML Sys</a> <a class="post-tag" href="/tags/rsm/">RSM</a> <a class="post-tag" href="/tags/scheduling/">scheduling</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/paxos-and-raft/"><div class="card-body"> <span class="timeago small" > May 26, 2020 <i class="unloaded">2020-05-26T10:42:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Paxos and Raft</h3><div class="text-muted small"><p> This is not a complete explanation of the Paxos and the Raft, but just some thoughts about some corner cases. Livelock and leader in the Paxos The basic paxos algorith works well but has a liveloc...</p></div></div></a></div><div class="card"> <a href="/posts/Paxos-RSM/"><div class="card-body"> <span class="timeago small" > May 28, 2020 <i class="unloaded">2020-05-28T06:09:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Paxos RSM</h3><div class="text-muted small"><p> Replicated State Machine (RSM) [1] talks about the theory of RSM. The core idea if the RSM is straightforward: replicate the state machine (SM) on different processes/servers, and as lone as the in...</p></div></div></a></div><div class="card"> <a href="/posts/caladan/"><div class="card-body"> <span class="timeago small" > Jan 15 <i class="unloaded">2021-01-15T07:35:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Caladan interference mitigation</h3><div class="text-muted small"><p> Caladan interference mitigation People are always focus how to schedule tasks within a cluster or across cluster, but less focus on scheduling tasks within a machine, because we usually think the ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Paxos-RSM/" class="btn btn-outline-primary"><p>Paxos RSM</p></a> <a href="/posts/caladan/" class="btn btn-outline-primary"><p>Caladan interference mitigation</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">hetong07</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/distributed-system/">distributed system</a> <a class="post-tag" href="/tags/paxos/">paxos</a> <a class="post-tag" href="/tags/raft/">raft</a> <a class="post-tag" href="/tags/gpu/">GPU</a> <a class="post-tag" href="/tags/interference-mitigation/">interference mitigation</a> <a class="post-tag" href="/tags/kv-store/">KV store</a> <a class="post-tag" href="/tags/leveldb/">leveldb</a> <a class="post-tag" href="/tags/ml-sys/">ML Sys</a> <a class="post-tag" href="/tags/rsm/">RSM</a> <a class="post-tag" href="/tags/scheduling/">scheduling</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hetong07.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
